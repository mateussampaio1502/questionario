<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Formulário</title>
</head>
<body>
    <header>
        <h1>ANÁLISE OCUPACIONAL</h1>
    </header>
    <div class="campo">
        <p>Nesta etapa, queremos descobrir quais membros do grupo residencial estão presentes em cada hora, na casa. Por este ser um dado com variabilidade elevada, solicitamos que você preencha de acordo o valor médio ou mais provável para o membro em questão. Serão consultadas as faixas de ocupação horária em dias normais e fim de semana/feriados.</p>
        <p id="obg">* Indica uma pergunta obrigatória.</p>
    </div>
    <div class="campo">
        <p class="required">Preencha, de acordo com a quantidade membros de seu grupo residencial, qual horário é esperado que cada pessoa esteja em casa durante um dia útil comum. Caso a rotina seja variável assinale de acordo com um valor médio ou mais provável.</p>
        <div class="table">
            <table id="pessoas">
                <thead>
                    <tr>
                        <th>Membro</th>
                        <th>0h</th>
                        <th>1h</th>
                        <th>2h</th>
                        <th>3h</th>
                        <th>4h</th>
                        <th>5h</th>
                        <th>6h</th>
                        <th>7h</th>
                        <th>8h</th>
                        <th>9h</th>
                        <th>10h</th>
                        <th>11h</th>
                        <th>12h</th>
                        <th>13h</th>
                        <th>14h</th>
                        <th>15h</th>
                        <th>16h</th>
                        <th>17h</th>
                        <th>18h</th>
                        <th>19h</th>
                        <th>20h</th>
                        <th>21h</th>
                        <th>22h</th>
                        <th>23h</th>
                    </tr>
                </thead>
                <tbody id="tbody_pessoas">
                    <tr>
                        <td colspan="25" class="firstline" id="l1">Adicione os membros utilizando o botão abaixo</th>
                    </tr>
                </tbody>
            </table>
        </div>
        <button class="add_remove" id="addbutton" onclick="addmember()">Adicionar Membro</button>
        <button class="add_remove" id="removebutton" onclick="removemember()">Remover Membro</button>
    </div>
    <div class="campo">
        <p class="required">Preencha, de acordo com a quantidade membros de seu grupo residencial, qual horário é esperado que cada pessoa esteja em casa durante um fim de semana ou feriado. Caso a rotina seja variável assinale de acordo com um valor médio ou mais provável.</p>
        <div class="table">
            <table id="pessoas_fds">
                <thead>
                    <tr>
                        <th>Membro</th>
                        <th>0h</th>
                        <th>1h</th>
                        <th>2h</th>
                        <th>3h</th>
                        <th>4h</th>
                        <th>5h</th>
                        <th>6h</th>
                        <th>7h</th>
                        <th>8h</th>
                        <th>9h</th>
                        <th>10h</th>
                        <th>11h</th>
                        <th>12h</th>
                        <th>13h</th>
                        <th>14h</th>
                        <th>15h</th>
                        <th>16h</th>
                        <th>17h</th>
                        <th>18h</th>
                        <th>19h</th>
                        <th>20h</th>
                        <th>21h</th>
                        <th>22h</th>
                        <th>23h</th>
                    </tr>
                </thead>
                <tbody id="tbody_pessoas_fds">
                    <tr>
                        <td colspan="25" class="firstline" id="l2">Adicione os membros utilizando o botão abaixo</th>
                    </tr>
                </tbody>
            </table>
        </div>
        <button class="add_remove" id="addbutton" onclick="addmember_fds()">Adicionar Membro</button>
        <button class="add_remove" id="removebutton" onclick="removemember_fds()">Remover Membro</button>
    </div>
    
    
    <div class="nav">
        <button>
            <a href="etapa2.html" rel="previous">Voltar</a>
        </button>
        <button>
            <a href="etapa4.html" rel="next">Próximo</a>
        </button>
    </div>
    <footer>
        <p>Mateus Sampaio &reg;</p>
    </footer>

    <script>
        var c = 0

        function addmember(){
            var firstline = document.getElementById("l1")
            l1.style.display = "none"
            var tbody = document.getElementById("tbody_pessoas")
            var newrow = tbody.insertRow();
            c++
            var member = document.createElement("th")
            member.textContent = `Membro ${c}`
            newrow.appendChild(member)

            for (let i=1; i<=24; i++){
                let cell = newrow.insertCell()
                let checkbox = document.createElement("input")
                checkbox.type = "checkbox"
                checkbox.name = `membro${c}[${i}h]`
                checkbox.id = `membro${c}[${i}h]`
                cell.appendChild(checkbox);
            }
        }

        function removemember(){
            var tbody = document.getElementById("tbody_pessoas")
            var length = tbody.rows.length

            if (length > 1) {
                tbody.deleteRow(length - 1)
                c--
            } else {
                alert('Não há membros para remover!')
            }
        }
        var c_fds = 0;

        function addmember_fds(){
            var firstline = document.getElementById("l2")
            l2.style.display = "none"
            var tbody = document.getElementById("tbody_pessoas_fds");
            var newrow = tbody.insertRow();
            c_fds++;
            var member = document.createElement("th");
            member.textContent = `Membro ${c_fds}`;
            newrow.appendChild(member);

            for (let i = 0; i < 24; i++){
                let cell = newrow.insertCell();
                let checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.name = `membro${c_fds}_fds[${i}h]`;
                checkbox.id = `membro${c_fds}_fds[${i}h]`;
                cell.appendChild(checkbox);
            }
        }

        function removemember_fds(){
            var tbody = document.getElementById("tbody_pessoas_fds");
            var length = tbody.rows.length;

            if (length > 1) {
                tbody.deleteRow(length - 1);
                c_fds--;
            } else {
                alert('Não há membros para remover!');
            }
        }   
    </script>
</body>
</html>
